<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Pac-Man ‚Äî Landmarks Edition</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>
    body {
      margin: 0;
      background: #000;
      color: #fff;
      font-family: sans-serif;
      text-align: center;
    }
    canvas {
      display: block;
      margin: 1rem auto;
      background: #111;
      border: 6px solid #fff;
      border-radius: 12px;
    }
    h1 { margin-top: 0.5rem; }
  </style>
</head>
<body>
  <h1>Pac-Man ‚Äî Landmarks Edition</h1>
  <canvas id="game" width="448" height="448"></canvas>
  <p>Reach Chateau Marmont üè® and avoid ghosts üëª</p>
  <script>
    const TILE = 32;
    const ROWS = 14, COLS = 14;
    const canvas = document.getElementById("game");
    const ctx = canvas.getContext("2d");

    const TILES = {
      EMPTY: 0,
      WALL: 1,
      PELLET: 2,
      POWER: 3,
      GOAL: 4,
      MUNICH_TOWER: 5,
      LIBERTY: 6
    };

    const tileMap = [
      [1,1,1,1,1,1,1,1,1,1,1,1,1,1],
      [1,5,2,0,2,0,2,0,2,0,2,6,0,1],
      [1,0,1,1,1,0,1,1,1,0,1,1,0,1],
      [1,2,1,0,1,0,1,0,1,0,1,0,2,1],
      [1,0,1,0,1,0,1,0,1,0,1,0,0,1],
      [1,2,1,0,1,0,1,0,1,0,1,2,0,1],
      [1,0,1,1,1,0,1,1,1,0,1,1,0,1],
      [1,2,0,0,0,0,0,0,0,0,0,0,2,1],
      [1,0,1,1,1,0,1,1,1,0,1,1,0,1],
      [1,2,1,3,1,0,1,0,1,0,1,0,2,1],
      [1,0,1,0,1,0,1,0,1,0,1,0,0,1],
      [1,2,1,0,1,0,1,0,1,0,1,2,0,1],
      [1,0,0,0,0,0,0,0,0,0,0,0,4,1],
      [1,1,1,1,1,1,1,1,1,1,1,1,1,1],
    ];

    const pac = { x: 1, y: 1, dir: {x: 0, y: 0} };
    const ghosts = [
      { x: 7, y: 6, color: "#f00", dx: 1, dy: 0 },
      { x: 8, y: 7, color: "#0ff", dx: -1, dy: 0 }
    ];

    let score = 0;
    let goalReached = false;

    function drawTile(x, y, type) {
      switch (type) {
        case TILES.WALL:
          ctx.fillStyle = "#444";
          ctx.fillRect(x * TILE, y * TILE, TILE, TILE);
          break;
        case TILES.PELLET:
          ctx.fillStyle = "#FFD700";
          ctx.beginPath();
          ctx.arc(x * TILE + TILE/2, y * TILE + TILE/2, 4, 0, Math.PI * 2);
          ctx.fill();
          break;
        case TILES.POWER:
          ctx.fillStyle = "#FF69B4";
          ctx.beginPath();
          ctx.arc(x * TILE + TILE/2, y * TILE + TILE/2, 7, 0, Math.PI * 2);
          ctx.fill();
          break;
        case TILES.GOAL:
          ctx.font = "20px serif";
          ctx.fillText("üè®", x * TILE + 6, y * TILE + 26);
          break;
        case TILES.MUNICH_TOWER:
          ctx.font = "20px serif";
          ctx.fillText("üóº", x * TILE + 6, y * TILE + 26);
          break;
        case TILES.LIBERTY:
          ctx.font = "20px serif";
          ctx.fillText("üóΩ", x * TILE + 6, y * TILE + 26);
          break;
      }
    }

    function draw() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      for (let y = 0; y < ROWS; y++) {
        for (let x = 0; x < COLS; x++) {
          const type = tileMap[y][x];
          drawTile(x, y, type);
        }
      }

      ghosts.forEach(g => {
        ctx.fillStyle = g.color;
        ctx.beginPath();
        ctx.arc(g.x * TILE + TILE/2, g.y * TILE + TILE/2, 12, 0, Math.PI * 2);
        ctx.fill();
      });

      ctx.fillStyle = "yellow";
      ctx.beginPath();
      ctx.arc(pac.x * TILE + TILE/2, pac.y * TILE + TILE/2, 12, 0.25 * Math.PI, 1.75 * Math.PI);
      ctx.lineTo(pac.x * TILE + TILE/2, pac.y * TILE + TILE/2);
      ctx.fill();
    }

    function movePac() {
      const newX = pac.x + pac.dir.x;
      const newY = pac.y + pac.dir.y;
      if (tileMap[newY][newX] !== TILES.WALL) {
        pac.x = newX;
        pac.y = newY;
        if (tileMap[newY][newX] === TILES.PELLET) {
          score += 10;
          tileMap[newY][newX] = TILES.EMPTY;
        }
        if (tileMap[newY][newX] === TILES.POWER) {
          score += 50;
          tileMap[newY][newX] = TILES.EMPTY;
        }
        if (tileMap[newY][newX] === TILES.GOAL) {
          goalReached = true;
        }
      }
    }

    function gameLoop() {
      movePac();
      draw();
      if (!goalReached) requestAnimationFrame(gameLoop);
      else {
        ctx.fillStyle = "#0f0";
        ctx.font = "bold 20px sans-serif";
        ctx.fillText("üéâ You reached Chateau Marmont!", 40, 224);
      }
    }

    document.addEventListener("keydown", (e) => {
      if (e.key === "ArrowUp") pac.dir = {x: 0, y: -1};
      if (e.key === "ArrowDown") pac.dir = {x: 0, y: 1};
      if (e.key === "ArrowLeft") pac.dir = {x: -1, y: 0};
      if (e.key === "ArrowRight") pac.dir = {x: 1, y: 0};
    });

    requestAnimationFrame(gameLoop);
  </script>
</body>
</html>
